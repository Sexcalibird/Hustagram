{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\IdeaProjects\\\\datn\\\\client\\\\src\\\\pages\\\\login\\\\Login.js\",\n  _s = $RefreshSig$();\nimport \"./login.css\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { GoogleBtn, Footer, OR } from \"../../components\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { getError, signIn, addAuth } from \"../../redux/authSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  var _location$state, _location$state$from;\n  const dispatch = useDispatch();\n  const error = useSelector(getError);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const from = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : (_location$state$from = _location$state.from) === null || _location$state$from === void 0 ? void 0 : _location$state$from.pathname) || \"/\";\n  const [email, setEmail] = useState('');\n  const [pwd, setPwd] = useState('');\n  const [errMsg, setErrMsg] = useState(false);\n  useEffect(() => {\n    setErrMsg(false);\n  }, [email, pwd]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(signIn({\n      email,\n      pwd\n    })).unwrap().then(() => {\n      setEmail('');\n      setPwd('');\n      navigate(from, {\n        replace: true\n      });\n    }).catch(err => {\n      setErrMsg(true);\n      return err.messages;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"con\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/img/iphone.png\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-main\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"goto\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Coonstagram\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"login-form\",\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: errMsg ? \"errmsg\" : \"hide\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"email\",\n                type: \"email\",\n                placeholder: \"Email\",\n                maxLength: \"28\",\n                onChange: e => setEmail(e.target.value),\n                value: email,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"email\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"password\",\n                type: \"password\",\n                placeholder: \"Password\",\n                maxLength: \"24\",\n                onChange: e => setPwd(e.target.value),\n                value: pwd,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"password\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-login btn-form\",\n              children: \"Log In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(OR, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(GoogleBtn, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box goto\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Don't have an account?\", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/register\",\n              children: \" Sign up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"Kos4hgnweHRHaj/NZ+derispvGo=\", false, function () {\n  return [useDispatch, useSelector, useNavigate, useLocation];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Link","useLocation","useNavigate","GoogleBtn","Footer","OR","useDispatch","useSelector","useEffect","useState","getError","signIn","addAuth","Login","dispatch","error","navigate","location","from","state","pathname","email","setEmail","pwd","setPwd","errMsg","setErrMsg","handleSubmit","e","preventDefault","unwrap","then","replace","catch","err","messages","target","value"],"sources":["C:/Users/ADMIN/IdeaProjects/datn/client/src/pages/login/Login.js"],"sourcesContent":["import \"./login.css\"\r\nimport {Link, useLocation, useNavigate} from \"react-router-dom\";\r\nimport {GoogleBtn, Footer, OR} from \"../../components\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {getError, signIn, addAuth} from \"../../redux/authSlice\";\r\n\r\nconst Login = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const error = useSelector(getError)\r\n\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const from = location.state?.from?.pathname || \"/\";\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [pwd, setPwd] = useState('');\r\n    const [errMsg, setErrMsg] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setErrMsg(false);\r\n    }, [email, pwd])\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        dispatch(signIn({email, pwd}))\r\n            .unwrap()\r\n            .then(() => {\r\n\r\n                setEmail('')\r\n                setPwd('')\r\n                navigate(from, { replace: true })\r\n            })\r\n            .catch (err =>\r\n            {\r\n                setErrMsg(true)\r\n                return err.messages\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"con\">\r\n                <div className=\"logo\">\r\n                    <img src=\"/img/iphone.png\" alt=\"\"/>\r\n                </div>\r\n                <div className=\"login-main\">\r\n                    <div className=\"box\">\r\n                        <div className=\"goto\">\r\n                            <h1>Coonstagram</h1>\r\n                        </div>\r\n                        <form\r\n                            className=\"login-form\"\r\n                            onSubmit={handleSubmit}\r\n                        >\r\n\r\n                            <p className={errMsg ? \"errmsg\" : \"hide\"}>{error}</p>\r\n\r\n                            <div className=\"field\">\r\n                                <input\r\n                                    id=\"email\"\r\n                                    type=\"email\"\r\n                                    placeholder=\"Email\"\r\n                                    maxLength=\"28\"\r\n                                    onChange={(e) => setEmail(e.target.value)}\r\n                                    value={email}\r\n                                    required\r\n                                />\r\n                                <label htmlFor=\"email\">Email</label>\r\n                            </div>\r\n\r\n                            <div className=\"field\">\r\n                                <input\r\n                                    id=\"password\"\r\n                                    type=\"password\"\r\n                                    placeholder=\"Password\"\r\n                                    maxLength=\"24\"\r\n                                    onChange={(e) => setPwd(e.target.value)}\r\n                                    value={pwd}\r\n                                    required\r\n                                />\r\n                                <label htmlFor=\"password\">Password</label>\r\n                            </div>\r\n\r\n                            <button className=\"btn-login btn-form\">Log In</button>\r\n\r\n                        </form>\r\n                        <OR/>\r\n                        <GoogleBtn/>\r\n                    </div>\r\n                    <div className=\"box goto\">\r\n                        <p>\r\n                            Don't have an account?\r\n                            <Link to=\"/register\"> Sign up</Link>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}